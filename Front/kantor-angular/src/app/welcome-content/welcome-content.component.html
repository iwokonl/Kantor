<div class="welcome-page-container">

  <div class="banner-container">
    <div class="banner">
      <div *ngFor="let exchangeRateChange of exchangeRatesChanges" class="exchange-rate-change">
        <a [routerLink]="['/currency/', exchangeRateChange.from.toLowerCase()]">
          <p class="exchange-rate-text">
            {{ exchangeRateChange.from }} to PLN: {{ exchangeRateChange.rate | number:'1.4-4' }}
          </p>
          <p class="exchange-rate-text"
             [ngClass]="{
                     'positive': (exchangeRateChange.change > 0) || ((exchangeRateChange?.percentageChange ?? 0) > 0),
                     'negative': (exchangeRateChange.change < 0) || ((exchangeRateChange?.percentageChange ?? 0) < 0),
                     'zero': (exchangeRateChange.change == 0) || ((exchangeRateChange?.percentageChange ?? 0) == 0)
                   }">
            {{ exchangeRateChange.change | number:'1.4-4'}}
            <span class="arrow"
                  [ngClass]="{
                  'up': (exchangeRateChange.change > 0) || ((exchangeRateChange?.percentageChange ?? 0) > 0),
                  'down': (exchangeRateChange.change < 0) || ((exchangeRateChange?.percentageChange ?? 0) < 0),
                  'square': (exchangeRateChange.change == 0) || ((exchangeRateChange?.percentageChange ?? 0) == 0)
                }">
            </span>
            {{ (exchangeRateChange?.percentageChange ?? 0) | number:'1.2-2' }}%
          </p>
        </a>
      </div>
    </div>
  </div>


  <div class="main-container">
    <div class="left-container">
      <div class="upper-container">

      </div>
      <div class="lower-container">
        <div class="left-down-container"></div>
        <div class="right-down-container">
          <ng-template #currencyPair let-exchangeRate>
            <div class="pair">
              <p class="exchange-rate-text">{{ exchangeRate.from }} = {{ exchangeRate.rate | number:'1.4-4' }} {{ exchangeRate.to }}</p>
            </div>
          </ng-template>

          <div class="popular-pairs">
            <h2>Najpopularniejsze pary walutowe</h2>
            <div class="pairs">
              <div class="column">
                <ng-container *ngFor="let exchangeRate of exchangeRates.slice(0, 3)">
                  <ng-container *ngTemplateOutlet="currencyPair; context: {$implicit: exchangeRate}"></ng-container>
                </ng-container>
              </div>
              <div class="column">
                <ng-container *ngFor="let exchangeRate of exchangeRates.slice(3, 6)">
                  <ng-container *ngTemplateOutlet="currencyPair; context: {$implicit: exchangeRate}"></ng-container>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="right-container"></div>
  </div>
</div>
